import{r as m,R as g}from"./index-CZMpeKRu.js";import{a as ct}from"./config-DtB2B6Ze.js";import{a as ut,M as lt}from"./index-B4RbK7oS.js";import{c as ht}from"./create-slot-recipe-context-BAAZQ-c8.js";import{a as dt}from"./create-recipe-context-DWduORGS.js";import{j as w}from"./jsx-runtime-CLpGMVip.js";import{c as F,u as W,s as A,a as N,b as pt,p as ft,d as mt,i as E,n as gt,e as U,f as O,r as G,g as k,h as D,j as yt,k as L,l as q,m as vt,w as _,o as Et,q as B,t as xt,v as St,x as Nt,y as Ct,z as Mt,A as At,B as Pt,C as wt}from"./index-CCr8pU1_.js";import{r as bt}from"./index-2nx3i45w.js";import{B as b}from"./Button-iyLFwEsp.js";import{S as V}from"./stack-BTMboc2O.js";import"./iconBase-CunQ1dn9.js";import"./index-D-TIQtLp.js";import"./icon-CjZAgybX.js";import"./spinner-Be2FA80Y.js";import"./walk-object-BItxkN3D.js";function Tt(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Rt(t={}){const{name:e,strict:i=!0,hookName:o="useContext",providerName:a="Provider",errorMessage:h,defaultValue:d}=t,n=m.createContext(d);n.displayName=e;function r(){var c;const s=m.useContext(n);if(!s&&i){const u=new Error(h??Tt(o,a));throw u.name="ContextError",(c=Error.captureStackTrace)==null||c.call(Error,u,r),u}return s}return[n.Provider,r,n]}function Ot(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function et(...t){return e=>{for(const i of t)Ot(i,e)}}var kt=Object.defineProperty,Dt=(t,e,i)=>e in t?kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,l=(t,e,i)=>Dt(t,typeof e!="symbol"?e+"":e,i);function nt(t,...e){for(const i of e){const o=L(i);for(const a in o)Et(i[a])?(t[a]||(t[a]={}),nt(t[a],i[a])):t[a]=i[a]}return t}function x(t){return E(t)?{type:t}:t}function C(t){return t?q(t)?t.slice():[t]:[]}function st(t){return O(t)&&t.predicate!=null}var _t=()=>!0;function it(t,e){return t=t??_t,(i,o,a)=>{if(E(t)){const h=e[t];return B(h)?h(i,o,a):h}return st(t)?t.predicate(e)(i,o,a):t==null?void 0:t(i,o,a)}}function j(t,e){return(i,o,a)=>st(t)?t.predicate(e)(i,o,a):t}function jt(t){var h,d;const e=t.computed??N({}),i=t.context??N({}),o=t.initial?(d=(h=t.states)==null?void 0:h[t.initial])==null?void 0:d.tags:[],a=ft({value:t.initial??"",previousValue:"",event:N({}),previousEvent:N({}),context:mt(i,e),done:!1,tags:o??[],hasTag(n){return this.tags.includes(n)},matches(...n){return n.includes(this.value)},can(n){return N(this).nextEvents.includes(n)},get nextEvents(){var s,c;const n=((c=(s=t.states)==null?void 0:s[this.value])==null?void 0:c.on)??{},r=(t==null?void 0:t.on)??{};return Object.keys({...n,...r})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return N(a)}function P(t,e){return(i,o)=>{if(xt(t))return t;if(B(t))return t(i,o);if(E(t)){const a=Number.parseFloat(t);if(!Number.isNaN(a))return a;if(e){const h=e==null?void 0:e[t];return k(h==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${t}\`. It doesn't exist in \`options.delays\``),B(h)?h(i,o):h}}}}function It(t){return E(t)?{target:t}:t}function Ut(t,e){return(i,o,a)=>C(t).map(It).find(h=>it(h.guard,e)(i,o,a)??h.target??h.actions)}var Lt=class{constructor(t,e){var i,o,a,h,d;l(this,"status","Not Started"),l(this,"state"),l(this,"initialState"),l(this,"initialContext"),l(this,"id"),l(this,"type","machine"),l(this,"activityEvents",new Map),l(this,"delayedEvents",new Map),l(this,"stateListeners",new Set),l(this,"doneListeners",new Set),l(this,"contextWatchers",new Set),l(this,"removeStateListener",gt),l(this,"parent"),l(this,"children",new Map),l(this,"guardMap"),l(this,"actionMap"),l(this,"delayMap"),l(this,"activityMap"),l(this,"sync"),l(this,"options"),l(this,"config"),l(this,"_created",()=>{if(!this.config.created)return;const n=x("machine.created");this.executeActions(this.config.created,n)}),l(this,"start",n=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=U(this.state,()=>{this.stateListeners.forEach(f=>{f(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(x("machine.start"),C(this.config.activities),"machine.start"),this.executeActions(this.config.entry,x("machine.start"));const r=x("machine.init"),s=O(n)?n.value:n,c=O(n)?n.context:void 0;c&&this.setContext(c);const u={target:s??this.config.initial},p=this.getNextStateInfo(u,r);return this.initialState=p,this.performStateChangeEffects(this.state.value,p,r),this}),l(this,"setupContextWatchers",()=>{const{watch:n}=this.config;if(!n)return;let r=A(this.state.context);const s=U(this.state.context,()=>{var u;const c=A(this.state.context);for(const[p,f]of Object.entries(n))(((u=this.options.compareFns)==null?void 0:u[p])??Object.is)(r[p],c[p])||this.executeActions(f,this.state.event);r=c});this.contextWatchers.add(s)}),l(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,x("machine.stop")),this.executeActions(this.config.exit,x("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),l(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),l(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(n=>n()),this.contextWatchers.clear()}),l(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(n=>{n.forEach(r=>r())}),this.delayedEvents.clear()}),l(this,"stopActivities",n=>{var r,s;n?((r=this.activityEvents.get(n))==null||r.forEach(c=>c()),(s=this.activityEvents.get(n))==null||s.clear(),this.activityEvents.delete(n)):(this.activityEvents.forEach(c=>{c.forEach(u=>u()),c.clear()}),this.activityEvents.clear())}),l(this,"sendChild",(n,r)=>{const s=x(n),c=G(r,this.contextSnapshot),u=this.children.get(c);u||k(`[@zag-js/core] Cannot send '${s.type}' event to unknown child`),u.send(s)}),l(this,"stopChild",n=>{this.children.has(n)||k(`[@zag-js/core > stop-child] Cannot stop unknown child ${n}`),this.children.get(n).stop(),this.children.delete(n)}),l(this,"removeChild",n=>{this.children.delete(n)}),l(this,"stopChildren",()=>{this.children.forEach(n=>n.stop()),this.children.clear()}),l(this,"setParent",n=>{this.parent=n}),l(this,"spawn",(n,r)=>{const s=G(n);return r&&(s.id=r),s.type="machine.actor",s.setParent(this),this.children.set(s.id,N(s)),s.onDone(()=>{this.removeChild(s.id)}).start(),N(D(s))}),l(this,"stopActivity",n=>{var s;if(!this.state.value)return;const r=this.activityEvents.get(this.state.value);(s=r==null?void 0:r.get(n))==null||s(),r==null||r.delete(n)}),l(this,"addActivityCleanup",(n,r,s)=>{var c;n&&(this.activityEvents.has(n)?(c=this.activityEvents.get(n))==null||c.set(r,s):this.activityEvents.set(n,new Map([[r,s]])))}),l(this,"setState",n=>{this.state.previousValue=this.state.value,this.state.value=n;const r=this.getStateNode(n);n==null?yt(this.state.tags):this.state.tags=C(r==null?void 0:r.tags)}),l(this,"setContext",n=>{n&&nt(this.state.context,L(n))}),l(this,"setOptions",n=>{const r=L(n);this.actionMap={...this.actionMap,...r.actions},this.delayMap={...this.delayMap,...r.delays},this.activityMap={...this.activityMap,...r.activities},this.guardMap={...this.guardMap,...r.guards}}),l(this,"getStateNode",n=>{var r;if(n)return(r=this.config.states)==null?void 0:r[n]}),l(this,"getNextStateInfo",(n,r)=>{const s=this.determineTransition(n,r),c=!(s!=null&&s.target),u=(s==null?void 0:s.target)??this.state.value,p=this.state.value!==u,f=this.getStateNode(u),v={reenter:!c&&!p&&!(s!=null&&s.internal),transition:s,stateNode:f,target:u,changed:p};return this.log("NextState:",`[${r.type}]`,this.state.value,"---->",v.target),v}),l(this,"getAfterActions",(n,r)=>{let s;const c=this.state.value;return{entry:()=>{s=globalThis.setTimeout(()=>{const u=this.getNextStateInfo(n,this.state.event);this.performStateChangeEffects(c,u,this.state.event)},r)},exit:()=>{globalThis.clearTimeout(s)}}}),l(this,"getDelayedEventActions",n=>{const r=this.getStateNode(n),s=this.state.event;if(!r||!r.after)return;const c=[],u=[];if(q(r.after)){const p=this.determineTransition(r.after,s);if(!p)return;if(!vt(p,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(p)}`);const y=P(p.delay,this.delayMap)(this.contextSnapshot,s),v=this.getAfterActions(p,y);return c.push(v.entry),u.push(v.exit),{entries:c,exits:u}}if(O(r.after))for(const p in r.after){const f=r.after[p],v=P(p,this.delayMap)(this.contextSnapshot,s),M=this.getAfterActions(f,v);c.push(M.entry),u.push(M.exit)}return{entries:c,exits:u}}),l(this,"executeActions",(n,r)=>{var c;const s=j(n,this.guardMap)(this.contextSnapshot,r,this.guardMeta);for(const u of C(s)){const p=E(u)?(c=this.actionMap)==null?void 0:c[u]:u;_(E(u)&&!p,`[@zag-js/core > execute-actions] No implementation found for action: \`${u}\``),p==null||p(this.state.context,r,this.meta)}}),l(this,"executeActivities",(n,r,s)=>{var c;for(const u of r){const p=E(u)?(c=this.activityMap)==null?void 0:c[u]:u;if(!p){_(`[@zag-js/core > execute-activity] No implementation found for activity: \`${u}\``);continue}const f=p(this.state.context,n,this.meta);if(f){const y=E(u)?u:u.name||W();this.addActivityCleanup(s??this.state.value,y,f)}}}),l(this,"createEveryActivities",(n,r)=>{if(n)if(q(n)){const s=C(n).find(f=>{const y=f.delay,M=P(y,this.delayMap)(this.contextSnapshot,this.state.event);return it(f.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??M!=null});if(!s)return;const u=P(s.delay,this.delayMap)(this.contextSnapshot,this.state.event);r(()=>{const f=globalThis.setInterval(()=>{this.executeActions(s.actions,this.state.event)},u);return()=>{globalThis.clearInterval(f)}})}else for(const s in n){const c=n==null?void 0:n[s],p=P(s,this.delayMap)(this.contextSnapshot,this.state.event);r(()=>{const y=globalThis.setInterval(()=>{this.executeActions(c,this.state.event)},p);return()=>{globalThis.clearInterval(y)}})}}),l(this,"setEvent",n=>{this.state.previousEvent=this.state.event,this.state.event=D(x(n))}),l(this,"performExitEffects",(n,r)=>{const s=this.state.value;if(s==="")return;const c=n?this.getStateNode(n):void 0;this.stopActivities(s);const u=j(c==null?void 0:c.exit,this.guardMap)(this.contextSnapshot,r,this.guardMeta),p=C(u),f=this.delayedEvents.get(s);f&&p.push(...f),this.executeActions(p,r),this.delayedEvents.delete(s)}),l(this,"performEntryEffects",(n,r)=>{const s=this.getStateNode(n),c=C(s==null?void 0:s.activities);this.createEveryActivities(s==null?void 0:s.every,y=>{c.unshift(y)}),c.length>0&&this.executeActivities(r,c);const u=j(s==null?void 0:s.entry,this.guardMap)(this.contextSnapshot,r,this.guardMeta),p=C(u),f=this.getDelayedEventActions(n);s!=null&&s.after&&f&&(this.delayedEvents.set(n,f==null?void 0:f.exits),p.push(...f.entries)),this.executeActions(p,r),(s==null?void 0:s.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(y=>{y(this.stateSnapshot)}),this.stop())}),l(this,"performTransitionEffects",(n,r)=>{const s=this.determineTransition(n,r);this.executeActions(s==null?void 0:s.actions,r)}),l(this,"performStateChangeEffects",(n,r,s)=>{this.setEvent(s);const c=r.changed||r.reenter;c&&this.performExitEffects(n,s),this.performTransitionEffects(r.transition,s),this.setState(r.target),c&&this.performEntryEffects(r.target,s)}),l(this,"determineTransition",(n,r)=>{const s=Ut(n,this.guardMap);return s==null?void 0:s(this.contextSnapshot,r,this.guardMeta)}),l(this,"sendParent",n=>{var s;this.parent||k("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const r=x(n);(s=this.parent)==null||s.send(r)}),l(this,"log",(...n)=>{}),l(this,"send",n=>{const r=x(n);this.transition(this.state.value,r)}),l(this,"transition",(n,r)=>{var f,y;const s=E(n)?this.getStateNode(n):n==null?void 0:n.stateNode,c=x(r);if(!s&&!this.config.on){const v=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${n}, \`event\`: ${c.type}`;_(v);return}const u=((f=s==null?void 0:s.on)==null?void 0:f[c.type])??((y=this.config.on)==null?void 0:y[c.type]),p=this.getNextStateInfo(u,c);return this.performStateChangeEffects(this.state.value,p,c),p.stateNode}),l(this,"subscribe",n=>(this.stateListeners.add(n),this.status==="Running"&&n(this.stateSnapshot),()=>{this.stateListeners.delete(n)})),l(this,"onDone",n=>(this.doneListeners.add(n),this)),l(this,"onTransition",n=>(this.stateListeners.add(n),this.status==="Running"&&n(this.stateSnapshot),this)),this.config=F(t),this.options=F(e??{}),this.id=this.config.id??`machine-${W()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((o=this.options)==null?void 0:o.actions)??{},this.delayMap=((a=this.options)==null?void 0:a.delays)??{},this.activityMap=((h=this.options)==null?void 0:h.activities)??{},this.sync=((d=this.options)==null?void 0:d.sync)??!1,this.state=jt(this.config),this.initialContext=A(this.state.context)}get stateSnapshot(){return N(A(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var e;return((e=t.initialState)==null?void 0:e.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:e=>this.actionMap[e],getGuard:e=>this.guardMap[e]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},qt=(t,e)=>new Lt(t,e),Bt=(...t)=>t.map(e=>{var i;return(i=e==null?void 0:e.trim)==null?void 0:i.call(e)}).filter(Boolean).join(" "),$t=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,H=t=>{const e={};let i;for(;i=$t.exec(t);)e[i[1]]=i[2];return e},zt=(t,e)=>{if(E(t)){if(E(e))return`${t};${e}`;t=H(t)}else E(e)&&(e=H(e));return Object.assign({},t??{},e??{})};function Ft(...t){let e={};for(let i of t){for(let o in e){if(o.startsWith("on")&&typeof e[o]=="function"&&typeof i[o]=="function"){e[o]=pt(i[o],e[o]);continue}if(o==="className"||o==="class"){e[o]=Bt(e[o],i[o]);continue}if(o==="style"){e[o]=zt(e[o],i[o]);continue}e[o]=i[o]!==void 0?i[o]:e[o]}for(let o in i)e[o]===void 0&&(e[o]=i[o])}return e}function Wt(t){var o,a;let e=(o=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:o.get,i=e&&"isReactWarning"in e&&e.isReactWarning;return i?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,i=e&&"isReactWarning"in e&&e.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}const I=t=>{const e=m.memo(m.forwardRef((i,o)=>{const{asChild:a,children:h,...d}=i;if(!a)return m.createElement(t,{...d,ref:o},h);const n=m.Children.only(h);if(!m.isValidElement(n))return null;const r=Wt(n);return m.cloneElement(n,{...Ft(d,n.props),ref:o?et(o,r):r})}));return e.displayName=t.displayName||t.name,e},Gt=()=>{const t=new Map;return new Proxy(I,{apply(e,i,o){return I(o[0])},get(e,i){const o=i;return t.has(o)||t.set(o,I(o)),t.get(o)}})},Vt=Gt(),Ht=()=>(t,e)=>e.reduce((i,o)=>{const[a,h]=i,d=o;return h[d]!==void 0&&(a[d]=h[d]),delete h[d],[a,h]},[{},{...t}]),Kt=t=>Ht()(t,["immediate","lazyMount","onExitComplete","present","unmountOnExit"]);function Xt(t,e,i){const o=t.matches("mounted","unmountSuspended");return{skip:!t.context.initial&&o,present:o,setNode(a){a&&e({type:"NODE.SET",node:a})},unmount(){e({type:"UNMOUNT"})}}}function Jt(t){return qt({initial:t.present?"mounted":"unmounted",context:{node:null,styles:null,unmountAnimationName:null,prevAnimationName:null,present:!1,initial:!1,...t},exit:["clearInitial","cleanupNode"],watch:{present:["setInitial","syncPresence"]},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]},"UNMOUNT.SUSPEND":"unmountSuspended"}},unmountSuspended:{activities:["trackAnimationEvents"],after:{ANIMATION_DURATION:{target:"unmounted",actions:["invokeOnExitComplete"]}},on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]}}},unmounted:{entry:["clearPrevAnimationName"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}}},{delays:{ANIMATION_DURATION(e){var i,o;return K((i=e.styles)==null?void 0:i.animationDuration)+K((o=e.styles)==null?void 0:o.animationDelay)+Zt}},actions:{setInitial(e){e.initial=!0},clearInitial(e){e.initial=!1},cleanupNode(e){e.node=null,e.styles=null},invokeOnExitComplete(e){var i;(i=e.onExitComplete)==null||i.call(e)},setNode(e,i){e.node=D(i.node)},setStyles(e,i){const o=i.node.ownerDocument.defaultView||window;e.styles=D(o.getComputedStyle(i.node))},syncPresence(e,i,{send:o}){var d;if(e.present){o({type:"MOUNT",src:"presence.changed"});return}if(!e.present&&((d=e.node)==null?void 0:d.ownerDocument.visibilityState)==="hidden"){o({type:"UNMOUNT",src:"visibilitychange"});return}const a=T(e.styles);(e.immediate?queueMicrotask:requestAnimationFrame)(()=>{var n,r;e.unmountAnimationName=a,a==="none"||a===e.prevAnimationName||((n=e.styles)==null?void 0:n.display)==="none"||((r=e.styles)==null?void 0:r.animationDuration)==="0s"?o({type:"UNMOUNT",src:"presence.changed"}):o({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName(e){(e.immediate?queueMicrotask:requestAnimationFrame)(()=>{e.prevAnimationName=T(e.styles)})},clearPrevAnimationName(e){e.prevAnimationName=null}},activities:{trackAnimationEvents(e,i,{send:o}){const a=e.node;if(!a)return;const h=n=>{var s,c;(((c=(s=n.composedPath)==null?void 0:s.call(n))==null?void 0:c[0])??n.target)===a&&(e.prevAnimationName=T(e.styles))},d=n=>{var c,u;const r=T(e.styles);(((u=(c=n.composedPath)==null?void 0:c.call(n))==null?void 0:u[0])??n.target)===a&&r===e.unmountAnimationName&&o({type:"UNMOUNT",src:"animationend"})};return a.addEventListener("animationstart",h),a.addEventListener("animationcancel",d),a.addEventListener("animationend",d),()=>{a.removeEventListener("animationstart",h),a.removeEventListener("animationcancel",d),a.removeEventListener("animationend",d)}}}})}function T(t){return(t==null?void 0:t.animationName)||"none"}function K(t){return parseFloat(t||"0")*1e3}var Zt=16.667;St()(["onExitComplete","present","immediate"]);Nt(t=>t);var X=t=>(t==null?void 0:t.constructor.name)==="Array",Qt=(t,e)=>{if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(!$(t[i],e[i]))return!1;return!0},$=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof(t==null?void 0:t.isEqual)=="function"&&typeof(e==null?void 0:e.isEqual)=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(X(t)&&X(e))return Qt(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;const i=Object.keys(e??Object.create(null)),o=i.length;for(let a=0;a<o;a++)if(!Reflect.has(t,i[a]))return!1;for(let a=0;a<o;a++){const h=i[a];if(!$(t[h],e[h]))return!1}return!0},Yt=Function.prototype.toString;Yt.call(Object);function rt(t){if(!te(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(o=>typeof o=="string"),i={};for(const o of e){const a=t[o];a!==void 0&&(i[o]=rt(a))}return i}var te=t=>t&&typeof t=="object"&&t.constructor===Object;function ee(t,e){const i=m.useRef(!1),o=m.useRef(!1);m.useEffect(()=>{if(i.current&&o.current)return t();o.current=!0},e),m.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[])}var ne=Ct("__zag__targetCache",()=>new WeakMap);function se(t,e){const{actions:i,context:o,sync:a}=e,h=m.useRef(void 0),d=m.useRef(void 0),n=m.useSyncExternalStore(m.useCallback(u=>U(t.state,u,a),[a]),()=>{const u=A(t.state);try{if(h.current&&d.current&&!Mt(h.current,u,d.current,new WeakMap))return h.current}catch{}return u},()=>A(t.state));t.setOptions({actions:i});const r=m.useMemo(()=>rt(o??{}),[o]);ee(()=>{const u=Object.entries(r),p=t.contextSnapshot??{};u.map(([v,M])=>({key:v,curr:M,prev:p[v],equal:$(p[v],M)})).every(({equal:v})=>v)||t.setContext(r)},[r]);const s=new WeakMap;m.useEffect(()=>{h.current=n,d.current=s});const c=m.useMemo(()=>new WeakMap,[]);return At(n,s,c,ne)}function ie(t){const e=m.useRef(void 0);return e.current||(e.current={v:t()}),e.current.v}var re=typeof document<"u"?m.useLayoutEffect:m.useEffect;function oe(t,e){const{state:i,context:o}=e,a=ie(()=>{const d=typeof t=="function"?t():t;return o&&d.setContext(o),d._created(),d}),h=m.useRef(void 0);return re(()=>{const d=i??h.current;return a.start(d),()=>{a.stop()}},[]),a}function ae(t,e){const i=oe(t,e);return[se(i,e),i.send,i]}function ce(t,e={}){const{sync:i=!1}=e,o=ue(t);return m.useCallback((...a)=>{var h;return i?queueMicrotask(()=>{var d;return(d=o.current)==null?void 0:d.call(o,...a)}):(h=o.current)==null?void 0:h.call(o,...a)},[i,o])}function ue(t){const e=m.useRef(t);return e.current=t,e}const le=t=>{const{lazyMount:e,unmountOnExit:i,present:o,...a}=t,h=m.useRef(!1),d={...a,present:o,onExitComplete:ce(t.onExitComplete)},[n,r]=ae(Jt(d),{context:d}),s=Xt(n,r);s.present&&(h.current=!0);const c=!s.present&&!h.current&&e||i&&!s.present&&h.current,u=()=>({"data-state":o?"open":"closed",hidden:!s.present});return{ref:s.setNode,getPresenceProps:u,present:s.present,unmounted:c}},ot=m.forwardRef((t,e)=>{const[i,o]=Kt(t),a=le(i);return a.unmounted?null:w.jsx(Vt.div,{...o,...a.getPresenceProps(),"data-scope":"presence","data-part":"root",ref:et(a.ref,e)})});ot.displayName="Presence";const J=dt(ot),[Ge,he]=Rt({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}}),de=t=>{var r;const{children:e,disabled:i}=t,[o,a]=m.useState((r=t.container)==null?void 0:r.current),h=m.useSyncExternalStore(fe,()=>!1,()=>!0),{getRootNode:d}=he();if(m.useEffect(()=>{a(()=>{var s;return(s=t.container)==null?void 0:s.current})},[t.container]),h||i)return w.jsx(w.Fragment,{children:e});const n=o??pe(d);return w.jsx(w.Fragment,{children:m.Children.map(e,s=>bt.createPortal(s,n))})},pe=t=>{const e=t==null?void 0:t(),i=e.getRootNode();return Pt(i)?i:wt(e).body},fe=()=>()=>{},me=ct({className:"modal",slots:["container","backdrop","content","header","body","footer","title","subtitle","text","icon"],base:{backdrop:{position:"fixed",inset:0,bg:"rgba(0, 0, 0, 0.4)",zIndex:"modal"},content:{width:"100%",backgroundColor:"white",borderTopLeftRadius:"16px",borderTopRightRadius:"16px",boxShadow:"0px -2px 6px 1px rgba(0, 0, 0, 0.12)",overflow:"hidden"},header:{padding:"16px 16px 8px 16px",color:"blue",display:"flex",justifyContent:"space-between",alignItems:"start","&[data-img=true]":{backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",height:"50vw",marginBottom:"16px"}},icon:{display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",cursor:"pointer",backgroundColor:"materialBg",borderRadius:"50%",fontSize:"24px",color:"primary"},body:{padding:"0px 16px",marginBottom:"8px"},footer:{padding:"16px"},title:{textStyle:"notoH24",color:"text.primary",marginBottom:"2px"},subtitle:{textStyle:"notoP16",color:"text.secondary"},text:{marginTop:"8px",textStyle:"notoP16",color:"text.secondary"}}}),{withRootProvider:ge,withContext:S,PropsProvider:ye}=ht({recipe:me}),ve=ge(ye);S("div","container");const at=t=>{const{children:e,unstyled:i,...o}=t;return g.createElement(ve,{unstyled:i,value:{...o}},g.createElement(de,null,e))},Ee=S("div","backdrop"),xe=S("div","content"),Se=S("div","header"),Ne=S("div","body"),Ce=S("div","footer"),Me=S("h2","title"),Ae=S("h3","subtitle"),Pe=S("p","text"),Z=S("span","icon"),z=t=>{const{open:e,title:i,subtitle:o,text:a,imageUrl:h,children:d,action:n,onClose:r,onPrevStep:s}=t,c=()=>{s==null||s()},u=()=>{r==null||r()},p=f=>{f.stopPropagation(),r==null||r()};return g.createElement(at,{open:e},g.createElement(J,{present:e,animationName:{_open:"fade-in",_closed:"fade-out"},animationDuration:"moderate"},g.createElement(Ee,{onClick:p})),g.createElement(J,{position:"fixed",present:e,bottom:"0",insetX:"0",zIndex:"modal",animationName:{_open:"slide-from-bottom-full",_closed:"slide-to-bottom-full"},animationDuration:"moderate"},g.createElement(xe,null,g.createElement(Se,{"data-img":!!h,backgroundImage:`url(${h})`},s&&g.createElement(Z,{onClick:c},g.createElement(ut,null)),g.createElement("div",{style:{flex:1}}),g.createElement(Z,{onClick:u},g.createElement(lt,null))),g.createElement(Ne,null,g.createElement(Me,null,i),g.createElement(Ae,null,o),g.createElement(Pe,null,a),d),g.createElement(Ce,null,n))))};at.__docgenInfo={description:"",methods:[],displayName:"ModalRoot",composes:["UnstyledProp"]};z.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},title:{required:!0,tsType:{name:"string"},description:""},subtitle:{required:!0,tsType:{name:"string"},description:""},text:{required:!0,tsType:{name:"string"},description:""},imageUrl:{required:!0,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},action:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onPrevStep:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const we=""+new URL("modal_default-BvZAuD4B.png",import.meta.url).href,Ve={title:"UPSACE/Modal",component:z},R={args:{},render:t=>{const[e,i]=g.useState(!1);return g.createElement(g.Fragment,null,g.createElement(b,{onClick:()=>i(!0)},"Open Modal"),g.createElement(z,{...t,open:e,title:"USPACE地鎖廠",subtitle:"台北市松山區南京東路 100號",text:"請確認是否已停放好車輛，按下停放完成後將無法再次降鎖",imageUrl:we,onClose:()=>i(!1),action:g.createElement(V,{gap:2},g.createElement(V,{direction:"row",gap:2},g.createElement(b,{level:"secondary"},"取消"),g.createElement(b,null,"確認")),g.createElement(b,{level:"negative"},"HELP"))}))}};var Q,Y,tt;R.parameters={...R.parameters,docs:{...(Q=R.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  args: {},
  render: args => {
    const [open, setOpen] = React.useState(false);
    return <>
        <Button onClick={() => setOpen(true)}>Open Modal</Button>
        <Modal {...args} open={open} title="USPACE地鎖廠" subtitle="台北市松山區南京東路 100號" text="請確認是否已停放好車輛，按下停放完成後將無法再次降鎖" imageUrl={image} onClose={() => setOpen(false)} action={<Stack gap={2}>
              <Stack direction="row" gap={2}>
                <Button level="secondary">取消</Button>
                <Button>確認</Button>
              </Stack>
              <Button level="negative">HELP</Button>
            </Stack>} />
      </>;
  }
}`,...(tt=(Y=R.parameters)==null?void 0:Y.docs)==null?void 0:tt.source}}};const He=["Default"];export{R as Default,He as __namedExportsOrder,Ve as default};

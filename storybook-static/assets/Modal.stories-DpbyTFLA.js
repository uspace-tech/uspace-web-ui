import{r as g,R as h}from"./index-CZMpeKRu.js";import{a as gt}from"./config-DtB2B6Ze.js";import{a as yt,M as vt}from"./index-B4RbK7oS.js";import{c as Et}from"./create-slot-recipe-context-BAAZQ-c8.js";import{a as xt}from"./create-recipe-context-DWduORGS.js";import{j as k}from"./jsx-runtime-CLpGMVip.js";import{c as G,u as V,s as P,a as M,b as St,p as Ct,d as Mt,i as E,n as Nt,e as z,f as _,r as K,g as B,h as I,j as At,k as W,l as F,m as Pt,w as j,o as wt,q as $,t as bt,v as kt,x as Ot,y as Rt,z as Tt,A as Ut,B as Dt,C as _t}from"./index-CCr8pU1_.js";import{r as Bt}from"./index-2nx3i45w.js";import{B as x}from"./Button-iyLFwEsp.js";import{S as w}from"./stack-BTMboc2O.js";import"./iconBase-CunQ1dn9.js";import"./index-D-TIQtLp.js";import"./icon-CjZAgybX.js";import"./spinner-Be2FA80Y.js";import"./walk-object-BItxkN3D.js";function It(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function jt(t={}){const{name:e,strict:i=!0,hookName:r="useContext",providerName:a="Provider",errorMessage:d,defaultValue:p}=t,n=g.createContext(p);n.displayName=e;function o(){var c;const s=g.useContext(n);if(!s&&i){const l=new Error(d??It(r,a));throw l.name="ContextError",(c=Error.captureStackTrace)==null||c.call(Error,l,o),l}return s}return[n.Provider,o,n]}function Lt(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function lt(...t){return e=>{for(const i of t)Lt(i,e)}}var qt=Object.defineProperty,zt=(t,e,i)=>e in t?qt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,u=(t,e,i)=>zt(t,typeof e!="symbol"?e+"":e,i);function ut(t,...e){for(const i of e){const r=W(i);for(const a in r)wt(i[a])?(t[a]||(t[a]={}),ut(t[a],i[a])):t[a]=i[a]}return t}function S(t){return E(t)?{type:t}:t}function N(t){return t?F(t)?t.slice():[t]:[]}function dt(t){return _(t)&&t.predicate!=null}var Wt=()=>!0;function ht(t,e){return t=t??Wt,(i,r,a)=>{if(E(t)){const d=e[t];return $(d)?d(i,r,a):d}return dt(t)?t.predicate(e)(i,r,a):t==null?void 0:t(i,r,a)}}function L(t,e){return(i,r,a)=>dt(t)?t.predicate(e)(i,r,a):t}function Ft(t){var d,p;const e=t.computed??M({}),i=t.context??M({}),r=t.initial?(p=(d=t.states)==null?void 0:d[t.initial])==null?void 0:p.tags:[],a=Ct({value:t.initial??"",previousValue:"",event:M({}),previousEvent:M({}),context:Mt(i,e),done:!1,tags:r??[],hasTag(n){return this.tags.includes(n)},matches(...n){return n.includes(this.value)},can(n){return M(this).nextEvents.includes(n)},get nextEvents(){var s,c;const n=((c=(s=t.states)==null?void 0:s[this.value])==null?void 0:c.on)??{},o=(t==null?void 0:t.on)??{};return Object.keys({...n,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return M(a)}function b(t,e){return(i,r)=>{if(bt(t))return t;if($(t))return t(i,r);if(E(t)){const a=Number.parseFloat(t);if(!Number.isNaN(a))return a;if(e){const d=e==null?void 0:e[t];return B(d==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${t}\`. It doesn't exist in \`options.delays\``),$(d)?d(i,r):d}}}}function $t(t){return E(t)?{target:t}:t}function Ht(t,e){return(i,r,a)=>N(t).map($t).find(d=>ht(d.guard,e)(i,r,a)??d.target??d.actions)}var Gt=class{constructor(t,e){var i,r,a,d,p;u(this,"status","Not Started"),u(this,"state"),u(this,"initialState"),u(this,"initialContext"),u(this,"id"),u(this,"type","machine"),u(this,"activityEvents",new Map),u(this,"delayedEvents",new Map),u(this,"stateListeners",new Set),u(this,"doneListeners",new Set),u(this,"contextWatchers",new Set),u(this,"removeStateListener",Nt),u(this,"parent"),u(this,"children",new Map),u(this,"guardMap"),u(this,"actionMap"),u(this,"delayMap"),u(this,"activityMap"),u(this,"sync"),u(this,"options"),u(this,"config"),u(this,"_created",()=>{if(!this.config.created)return;const n=S("machine.created");this.executeActions(this.config.created,n)}),u(this,"start",n=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=z(this.state,()=>{this.stateListeners.forEach(m=>{m(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(S("machine.start"),N(this.config.activities),"machine.start"),this.executeActions(this.config.entry,S("machine.start"));const o=S("machine.init"),s=_(n)?n.value:n,c=_(n)?n.context:void 0;c&&this.setContext(c);const l={target:s??this.config.initial},f=this.getNextStateInfo(l,o);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,o),this}),u(this,"setupContextWatchers",()=>{const{watch:n}=this.config;if(!n)return;let o=P(this.state.context);const s=z(this.state.context,()=>{var l;const c=P(this.state.context);for(const[f,m]of Object.entries(n))(((l=this.options.compareFns)==null?void 0:l[f])??Object.is)(o[f],c[f])||this.executeActions(m,this.state.event);o=c});this.contextWatchers.add(s)}),u(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,S("machine.stop")),this.executeActions(this.config.exit,S("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),u(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),u(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(n=>n()),this.contextWatchers.clear()}),u(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(n=>{n.forEach(o=>o())}),this.delayedEvents.clear()}),u(this,"stopActivities",n=>{var o,s;n?((o=this.activityEvents.get(n))==null||o.forEach(c=>c()),(s=this.activityEvents.get(n))==null||s.clear(),this.activityEvents.delete(n)):(this.activityEvents.forEach(c=>{c.forEach(l=>l()),c.clear()}),this.activityEvents.clear())}),u(this,"sendChild",(n,o)=>{const s=S(n),c=K(o,this.contextSnapshot),l=this.children.get(c);l||B(`[@zag-js/core] Cannot send '${s.type}' event to unknown child`),l.send(s)}),u(this,"stopChild",n=>{this.children.has(n)||B(`[@zag-js/core > stop-child] Cannot stop unknown child ${n}`),this.children.get(n).stop(),this.children.delete(n)}),u(this,"removeChild",n=>{this.children.delete(n)}),u(this,"stopChildren",()=>{this.children.forEach(n=>n.stop()),this.children.clear()}),u(this,"setParent",n=>{this.parent=n}),u(this,"spawn",(n,o)=>{const s=K(n);return o&&(s.id=o),s.type="machine.actor",s.setParent(this),this.children.set(s.id,M(s)),s.onDone(()=>{this.removeChild(s.id)}).start(),M(I(s))}),u(this,"stopActivity",n=>{var s;if(!this.state.value)return;const o=this.activityEvents.get(this.state.value);(s=o==null?void 0:o.get(n))==null||s(),o==null||o.delete(n)}),u(this,"addActivityCleanup",(n,o,s)=>{var c;n&&(this.activityEvents.has(n)?(c=this.activityEvents.get(n))==null||c.set(o,s):this.activityEvents.set(n,new Map([[o,s]])))}),u(this,"setState",n=>{this.state.previousValue=this.state.value,this.state.value=n;const o=this.getStateNode(n);n==null?At(this.state.tags):this.state.tags=N(o==null?void 0:o.tags)}),u(this,"setContext",n=>{n&&ut(this.state.context,W(n))}),u(this,"setOptions",n=>{const o=W(n);this.actionMap={...this.actionMap,...o.actions},this.delayMap={...this.delayMap,...o.delays},this.activityMap={...this.activityMap,...o.activities},this.guardMap={...this.guardMap,...o.guards}}),u(this,"getStateNode",n=>{var o;if(n)return(o=this.config.states)==null?void 0:o[n]}),u(this,"getNextStateInfo",(n,o)=>{const s=this.determineTransition(n,o),c=!(s!=null&&s.target),l=(s==null?void 0:s.target)??this.state.value,f=this.state.value!==l,m=this.getStateNode(l),v={reenter:!c&&!f&&!(s!=null&&s.internal),transition:s,stateNode:m,target:l,changed:f};return this.log("NextState:",`[${o.type}]`,this.state.value,"---->",v.target),v}),u(this,"getAfterActions",(n,o)=>{let s;const c=this.state.value;return{entry:()=>{s=globalThis.setTimeout(()=>{const l=this.getNextStateInfo(n,this.state.event);this.performStateChangeEffects(c,l,this.state.event)},o)},exit:()=>{globalThis.clearTimeout(s)}}}),u(this,"getDelayedEventActions",n=>{const o=this.getStateNode(n),s=this.state.event;if(!o||!o.after)return;const c=[],l=[];if(F(o.after)){const f=this.determineTransition(o.after,s);if(!f)return;if(!Pt(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const y=b(f.delay,this.delayMap)(this.contextSnapshot,s),v=this.getAfterActions(f,y);return c.push(v.entry),l.push(v.exit),{entries:c,exits:l}}if(_(o.after))for(const f in o.after){const m=o.after[f],v=b(f,this.delayMap)(this.contextSnapshot,s),A=this.getAfterActions(m,v);c.push(A.entry),l.push(A.exit)}return{entries:c,exits:l}}),u(this,"executeActions",(n,o)=>{var c;const s=L(n,this.guardMap)(this.contextSnapshot,o,this.guardMeta);for(const l of N(s)){const f=E(l)?(c=this.actionMap)==null?void 0:c[l]:l;j(E(l)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${l}\``),f==null||f(this.state.context,o,this.meta)}}),u(this,"executeActivities",(n,o,s)=>{var c;for(const l of o){const f=E(l)?(c=this.activityMap)==null?void 0:c[l]:l;if(!f){j(`[@zag-js/core > execute-activity] No implementation found for activity: \`${l}\``);continue}const m=f(this.state.context,n,this.meta);if(m){const y=E(l)?l:l.name||V();this.addActivityCleanup(s??this.state.value,y,m)}}}),u(this,"createEveryActivities",(n,o)=>{if(n)if(F(n)){const s=N(n).find(m=>{const y=m.delay,A=b(y,this.delayMap)(this.contextSnapshot,this.state.event);return ht(m.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??A!=null});if(!s)return;const l=b(s.delay,this.delayMap)(this.contextSnapshot,this.state.event);o(()=>{const m=globalThis.setInterval(()=>{this.executeActions(s.actions,this.state.event)},l);return()=>{globalThis.clearInterval(m)}})}else for(const s in n){const c=n==null?void 0:n[s],f=b(s,this.delayMap)(this.contextSnapshot,this.state.event);o(()=>{const y=globalThis.setInterval(()=>{this.executeActions(c,this.state.event)},f);return()=>{globalThis.clearInterval(y)}})}}),u(this,"setEvent",n=>{this.state.previousEvent=this.state.event,this.state.event=I(S(n))}),u(this,"performExitEffects",(n,o)=>{const s=this.state.value;if(s==="")return;const c=n?this.getStateNode(n):void 0;this.stopActivities(s);const l=L(c==null?void 0:c.exit,this.guardMap)(this.contextSnapshot,o,this.guardMeta),f=N(l),m=this.delayedEvents.get(s);m&&f.push(...m),this.executeActions(f,o),this.delayedEvents.delete(s)}),u(this,"performEntryEffects",(n,o)=>{const s=this.getStateNode(n),c=N(s==null?void 0:s.activities);this.createEveryActivities(s==null?void 0:s.every,y=>{c.unshift(y)}),c.length>0&&this.executeActivities(o,c);const l=L(s==null?void 0:s.entry,this.guardMap)(this.contextSnapshot,o,this.guardMeta),f=N(l),m=this.getDelayedEventActions(n);s!=null&&s.after&&m&&(this.delayedEvents.set(n,m==null?void 0:m.exits),f.push(...m.entries)),this.executeActions(f,o),(s==null?void 0:s.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(y=>{y(this.stateSnapshot)}),this.stop())}),u(this,"performTransitionEffects",(n,o)=>{const s=this.determineTransition(n,o);this.executeActions(s==null?void 0:s.actions,o)}),u(this,"performStateChangeEffects",(n,o,s)=>{this.setEvent(s);const c=o.changed||o.reenter;c&&this.performExitEffects(n,s),this.performTransitionEffects(o.transition,s),this.setState(o.target),c&&this.performEntryEffects(o.target,s)}),u(this,"determineTransition",(n,o)=>{const s=Ht(n,this.guardMap);return s==null?void 0:s(this.contextSnapshot,o,this.guardMeta)}),u(this,"sendParent",n=>{var s;this.parent||B("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const o=S(n);(s=this.parent)==null||s.send(o)}),u(this,"log",(...n)=>{}),u(this,"send",n=>{const o=S(n);this.transition(this.state.value,o)}),u(this,"transition",(n,o)=>{var m,y;const s=E(n)?this.getStateNode(n):n==null?void 0:n.stateNode,c=S(o);if(!s&&!this.config.on){const v=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${n}, \`event\`: ${c.type}`;j(v);return}const l=((m=s==null?void 0:s.on)==null?void 0:m[c.type])??((y=this.config.on)==null?void 0:y[c.type]),f=this.getNextStateInfo(l,c);return this.performStateChangeEffects(this.state.value,f,c),f.stateNode}),u(this,"subscribe",n=>(this.stateListeners.add(n),this.status==="Running"&&n(this.stateSnapshot),()=>{this.stateListeners.delete(n)})),u(this,"onDone",n=>(this.doneListeners.add(n),this)),u(this,"onTransition",n=>(this.stateListeners.add(n),this.status==="Running"&&n(this.stateSnapshot),this)),this.config=G(t),this.options=G(e??{}),this.id=this.config.id??`machine-${V()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((r=this.options)==null?void 0:r.actions)??{},this.delayMap=((a=this.options)==null?void 0:a.delays)??{},this.activityMap=((d=this.options)==null?void 0:d.activities)??{},this.sync=((p=this.options)==null?void 0:p.sync)??!1,this.state=Ft(this.config),this.initialContext=P(this.state.context)}get stateSnapshot(){return M(P(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var e;return((e=t.initialState)==null?void 0:e.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:e=>this.actionMap[e],getGuard:e=>this.guardMap[e]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},Vt=(t,e)=>new Gt(t,e),Kt=(...t)=>t.map(e=>{var i;return(i=e==null?void 0:e.trim)==null?void 0:i.call(e)}).filter(Boolean).join(" "),Jt=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,J=t=>{const e={};let i;for(;i=Jt.exec(t);)e[i[1]]=i[2];return e},Xt=(t,e)=>{if(E(t)){if(E(e))return`${t};${e}`;t=J(t)}else E(e)&&(e=J(e));return Object.assign({},t??{},e??{})};function Zt(...t){let e={};for(let i of t){for(let r in e){if(r.startsWith("on")&&typeof e[r]=="function"&&typeof i[r]=="function"){e[r]=St(i[r],e[r]);continue}if(r==="className"||r==="class"){e[r]=Kt(e[r],i[r]);continue}if(r==="style"){e[r]=Xt(e[r],i[r]);continue}e[r]=i[r]!==void 0?i[r]:e[r]}for(let r in i)e[r]===void 0&&(e[r]=i[r])}return e}function Qt(t){var r,a;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,i=e&&"isReactWarning"in e&&e.isReactWarning;return i?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,i=e&&"isReactWarning"in e&&e.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}const q=t=>{const e=g.memo(g.forwardRef((i,r)=>{const{asChild:a,children:d,...p}=i;if(!a)return g.createElement(t,{...p,ref:r},d);const n=g.Children.only(d);if(!g.isValidElement(n))return null;const o=Qt(n);return g.cloneElement(n,{...Zt(p,n.props),ref:r?lt(r,o):o})}));return e.displayName=t.displayName||t.name,e},Yt=()=>{const t=new Map;return new Proxy(q,{apply(e,i,r){return q(r[0])},get(e,i){const r=i;return t.has(r)||t.set(r,q(r)),t.get(r)}})},te=Yt(),ee=()=>(t,e)=>e.reduce((i,r)=>{const[a,d]=i,p=r;return d[p]!==void 0&&(a[p]=d[p]),delete d[p],[a,d]},[{},{...t}]),ne=t=>ee()(t,["immediate","lazyMount","onExitComplete","present","unmountOnExit"]);function se(t,e,i){const r=t.matches("mounted","unmountSuspended");return{skip:!t.context.initial&&r,present:r,setNode(a){a&&e({type:"NODE.SET",node:a})},unmount(){e({type:"UNMOUNT"})}}}function ie(t){return Vt({initial:t.present?"mounted":"unmounted",context:{node:null,styles:null,unmountAnimationName:null,prevAnimationName:null,present:!1,initial:!1,...t},exit:["clearInitial","cleanupNode"],watch:{present:["setInitial","syncPresence"]},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]},"UNMOUNT.SUSPEND":"unmountSuspended"}},unmountSuspended:{activities:["trackAnimationEvents"],after:{ANIMATION_DURATION:{target:"unmounted",actions:["invokeOnExitComplete"]}},on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]}}},unmounted:{entry:["clearPrevAnimationName"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}}},{delays:{ANIMATION_DURATION(e){var i,r;return X((i=e.styles)==null?void 0:i.animationDuration)+X((r=e.styles)==null?void 0:r.animationDelay)+re}},actions:{setInitial(e){e.initial=!0},clearInitial(e){e.initial=!1},cleanupNode(e){e.node=null,e.styles=null},invokeOnExitComplete(e){var i;(i=e.onExitComplete)==null||i.call(e)},setNode(e,i){e.node=I(i.node)},setStyles(e,i){const r=i.node.ownerDocument.defaultView||window;e.styles=I(r.getComputedStyle(i.node))},syncPresence(e,i,{send:r}){var p;if(e.present){r({type:"MOUNT",src:"presence.changed"});return}if(!e.present&&((p=e.node)==null?void 0:p.ownerDocument.visibilityState)==="hidden"){r({type:"UNMOUNT",src:"visibilitychange"});return}const a=R(e.styles);(e.immediate?queueMicrotask:requestAnimationFrame)(()=>{var n,o;e.unmountAnimationName=a,a==="none"||a===e.prevAnimationName||((n=e.styles)==null?void 0:n.display)==="none"||((o=e.styles)==null?void 0:o.animationDuration)==="0s"?r({type:"UNMOUNT",src:"presence.changed"}):r({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName(e){(e.immediate?queueMicrotask:requestAnimationFrame)(()=>{e.prevAnimationName=R(e.styles)})},clearPrevAnimationName(e){e.prevAnimationName=null}},activities:{trackAnimationEvents(e,i,{send:r}){const a=e.node;if(!a)return;const d=n=>{var s,c;(((c=(s=n.composedPath)==null?void 0:s.call(n))==null?void 0:c[0])??n.target)===a&&(e.prevAnimationName=R(e.styles))},p=n=>{var c,l;const o=R(e.styles);(((l=(c=n.composedPath)==null?void 0:c.call(n))==null?void 0:l[0])??n.target)===a&&o===e.unmountAnimationName&&r({type:"UNMOUNT",src:"animationend"})};return a.addEventListener("animationstart",d),a.addEventListener("animationcancel",p),a.addEventListener("animationend",p),()=>{a.removeEventListener("animationstart",d),a.removeEventListener("animationcancel",p),a.removeEventListener("animationend",p)}}}})}function R(t){return(t==null?void 0:t.animationName)||"none"}function X(t){return parseFloat(t||"0")*1e3}var re=16.667;kt()(["onExitComplete","present","immediate"]);Ot(t=>t);var Z=t=>(t==null?void 0:t.constructor.name)==="Array",oe=(t,e)=>{if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(!H(t[i],e[i]))return!1;return!0},H=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof(t==null?void 0:t.isEqual)=="function"&&typeof(e==null?void 0:e.isEqual)=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(Z(t)&&Z(e))return oe(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;const i=Object.keys(e??Object.create(null)),r=i.length;for(let a=0;a<r;a++)if(!Reflect.has(t,i[a]))return!1;for(let a=0;a<r;a++){const d=i[a];if(!H(t[d],e[d]))return!1}return!0},ae=Function.prototype.toString;ae.call(Object);function pt(t){if(!ce(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(r=>typeof r=="string"),i={};for(const r of e){const a=t[r];a!==void 0&&(i[r]=pt(a))}return i}var ce=t=>t&&typeof t=="object"&&t.constructor===Object;function le(t,e){const i=g.useRef(!1),r=g.useRef(!1);g.useEffect(()=>{if(i.current&&r.current)return t();r.current=!0},e),g.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[])}var ue=Rt("__zag__targetCache",()=>new WeakMap);function de(t,e){const{actions:i,context:r,sync:a}=e,d=g.useRef(void 0),p=g.useRef(void 0),n=g.useSyncExternalStore(g.useCallback(l=>z(t.state,l,a),[a]),()=>{const l=P(t.state);try{if(d.current&&p.current&&!Tt(d.current,l,p.current,new WeakMap))return d.current}catch{}return l},()=>P(t.state));t.setOptions({actions:i});const o=g.useMemo(()=>pt(r??{}),[r]);le(()=>{const l=Object.entries(o),f=t.contextSnapshot??{};l.map(([v,A])=>({key:v,curr:A,prev:f[v],equal:H(f[v],A)})).every(({equal:v})=>v)||t.setContext(o)},[o]);const s=new WeakMap;g.useEffect(()=>{d.current=n,p.current=s});const c=g.useMemo(()=>new WeakMap,[]);return Ut(n,s,c,ue)}function he(t){const e=g.useRef(void 0);return e.current||(e.current={v:t()}),e.current.v}var pe=typeof document<"u"?g.useLayoutEffect:g.useEffect;function fe(t,e){const{state:i,context:r}=e,a=he(()=>{const p=typeof t=="function"?t():t;return r&&p.setContext(r),p._created(),p}),d=g.useRef(void 0);return pe(()=>{const p=i??d.current;return a.start(p),()=>{a.stop()}},[]),a}function me(t,e){const i=fe(t,e);return[de(i,e),i.send,i]}function ge(t,e={}){const{sync:i=!1}=e,r=ye(t);return g.useCallback((...a)=>{var d;return i?queueMicrotask(()=>{var p;return(p=r.current)==null?void 0:p.call(r,...a)}):(d=r.current)==null?void 0:d.call(r,...a)},[i,r])}function ye(t){const e=g.useRef(t);return e.current=t,e}const ve=t=>{const{lazyMount:e,unmountOnExit:i,present:r,...a}=t,d=g.useRef(!1),p={...a,present:r,onExitComplete:ge(t.onExitComplete)},[n,o]=me(ie(p),{context:p}),s=se(n,o);s.present&&(d.current=!0);const c=!s.present&&!d.current&&e||i&&!s.present&&d.current,l=()=>({"data-state":r?"open":"closed",hidden:!s.present});return{ref:s.setNode,getPresenceProps:l,present:s.present,unmounted:c}},ft=g.forwardRef((t,e)=>{const[i,r]=ne(t),a=ve(i);return a.unmounted?null:k.jsx(te.div,{...r,...a.getPresenceProps(),"data-scope":"presence","data-part":"root",ref:lt(a.ref,e)})});ft.displayName="Presence";const Q=xt(ft),[tn,Ee]=jt({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}}),xe=t=>{var o;const{children:e,disabled:i}=t,[r,a]=g.useState((o=t.container)==null?void 0:o.current),d=g.useSyncExternalStore(Ce,()=>!1,()=>!0),{getRootNode:p}=Ee();if(g.useEffect(()=>{a(()=>{var s;return(s=t.container)==null?void 0:s.current})},[t.container]),d||i)return k.jsx(k.Fragment,{children:e});const n=r??Se(p);return k.jsx(k.Fragment,{children:g.Children.map(e,s=>Bt.createPortal(s,n))})},Se=t=>{const e=t==null?void 0:t(),i=e.getRootNode();return Dt(i)?i:_t(e).body},Ce=()=>()=>{},Me=gt({className:"modal",slots:["container","backdrop","content","header","body","footer","title","subtitle","text","icon"],base:{backdrop:{position:"fixed",inset:0,bg:"rgba(0, 0, 0, 0.4)",zIndex:"modal"},content:{width:"100%",backgroundColor:"white",borderTopLeftRadius:"16px",borderTopRightRadius:"16px",boxShadow:"0px -2px 6px 1px rgba(0, 0, 0, 0.12)",overflow:"hidden"},header:{padding:"16px 16px 8px 16px",color:"blue",display:"flex",justifyContent:"space-between",alignItems:"start","&[data-img=true]":{backgroundColor:"materialBg",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",height:"clamp(200px, 50vw, 400px)",marginBottom:"16px"}},icon:{display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",cursor:"pointer",backgroundColor:"materialBg",borderRadius:"50%",fontSize:"24px",color:"primary"},body:{padding:"0px 16px",marginBottom:"8px"},footer:{padding:"16px"},title:{textStyle:"notoH24",color:"text.primary",marginBottom:"2px"},subtitle:{textStyle:"notoP16",color:"text.secondary"},text:{marginTop:"8px",textStyle:"notoP16",color:"text.secondary"}}}),{withRootProvider:Ne,withContext:C,PropsProvider:Ae}=Et({recipe:Me}),Pe=Ne(Ae);C("div","container");const mt=t=>{const{children:e,unstyled:i,...r}=t;return h.createElement(Pe,{unstyled:i,value:{...r}},h.createElement(xe,null,e))},we=C("div","backdrop"),be=C("div","content"),ke=C("div","header"),Oe=C("div","body"),Re=C("div","footer"),Te=C("h2","title"),Ue=C("h3","subtitle"),De=C("p","text"),Y=C("span","icon"),O=t=>{const{open:e,title:i,subtitle:r,text:a,imageUrl:d,headerProps:p,children:n,action:o,onClose:s,onPrevStep:c}=t,l=()=>{c==null||c()},f=()=>{s==null||s()},m=y=>{y.stopPropagation(),s==null||s()};return h.createElement(mt,{open:e},h.createElement(Q,{present:e,animationName:{_open:"fade-in",_closed:"fade-out"},animationDuration:"moderate"},h.createElement(we,{onClick:m})),h.createElement(Q,{position:"fixed",present:e,bottom:"0",insetX:"0",zIndex:"modal",animationName:{_open:"slide-from-bottom-full",_closed:"slide-to-bottom-full"},animationDuration:"moderate"},h.createElement(be,null,h.createElement(ke,{...p,"data-img":!!d,...d&&{backgroundImage:`url(${d})`}},c&&h.createElement(Y,{onClick:l},h.createElement(yt,null)),h.createElement("div",{style:{flex:1}}),h.createElement(Y,{onClick:f},h.createElement(vt,null))),h.createElement(Oe,null,i&&h.createElement(Te,null,i),r&&h.createElement(Ue,null,r),a&&h.createElement(De,null,a),n),h.createElement(Re,null,o))))};mt.__docgenInfo={description:"",methods:[],displayName:"ModalRoot",composes:["UnstyledProp"]};O.__docgenInfo={description:`符合設計需求的Modal
- 上方操作按鈕 上一步 與 關閉
- 上方圖片
- 中間文字內容
- 文字內容與按鈕空間之間的洞 （有提供 \`children\` 空間，自行發揮）
- 下方按鈕空間 （不包含按鈕 自行發揮）`,methods:[],displayName:"Modal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},title:{required:!1,tsType:{name:"string"},description:""},subtitle:{required:!1,tsType:{name:"string"},description:""},text:{required:!1,tsType:{name:"string"},description:""},imageUrl:{required:!1,tsType:{name:"string"},description:""},headerProps:{required:!1,tsType:{name:"ReactComponentProps",raw:"React.ComponentProps<typeof ModalHeader>",elements:[{name:"ModalHeader"}]},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},action:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onPrevStep:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const _e=""+new URL("modal_default-BvZAuD4B.png",import.meta.url).href,Be=""+new URL("modal_default2-DJfqemqk.png",import.meta.url).href,en={title:"UPSACE/Modal",component:O,argTypes:{imageUrl:{control:"text",description:"圖片 URL"},headerProps:{control:"object",description:"header 的為上方留白/圖片空間"},children:{description:"text 與 action 之間的空間"},action:{description:"提供按鈕放置的空間，非必要"},onClose:{control:!1,description:"關閉 modal 的 callback"},onPrevStep:{control:!1,description:"上一頁的 callback，有帶入時左上會顯示按鈕"}},tags:["autodocs"]},T={args:{},render:t=>{const[e,i]=h.useState(!1);return h.createElement(h.Fragment,null,h.createElement(x,{onClick:()=>i(!0)},"Open Modal"),h.createElement(O,{...t,open:e,title:"USPACE地鎖廠",subtitle:"台北市松山區南京東路 100號",text:"請確認是否已停放好車輛，按下停放完成後將無法再次降鎖",onClose:()=>i(!1),action:h.createElement(w,{gap:2},h.createElement(w,{direction:"row",gap:2},h.createElement(x,{level:"secondary"},"取消"),h.createElement(x,null,"確認")),h.createElement(x,{level:"negative"},"HELP"))}))}},U={args:{},parameters:{docs:{description:{story:"含上方圖片（預設滿版）"}}},render:t=>{const[e,i]=h.useState(!1);return h.createElement(h.Fragment,null,h.createElement(x,{onClick:()=>i(!0)},"Open Modal"),h.createElement(O,{...t,open:e,title:"USPACE地鎖廠",subtitle:"台北市松山區南京東路 100號",text:"請確認是否已停放好車輛，按下停放完成後將無法再次降鎖",imageUrl:_e,onClose:()=>i(!1),action:h.createElement(w,{gap:2},h.createElement(w,{direction:"row",gap:2},h.createElement(x,{level:"secondary"},"取消"),h.createElement(x,null,"確認")),h.createElement(x,{level:"negative"},"HELP"))}))}},D={args:{},parameters:{docs:{description:{story:"含上方圖片（圖片若非滿版需自行調整 `headerProps` 的 `backgroundSize` 可參考MDN）"}}},render:t=>{const[e,i]=h.useState(!1);return h.createElement(h.Fragment,null,h.createElement(x,{onClick:()=>i(!0)},"Open Modal"),h.createElement(O,{...t,open:e,title:"USPACE地鎖廠",subtitle:"台北市松山區南京東路 100號",text:"請確認是否已停放好車輛，按下停放完成後將無法再次降鎖",imageUrl:Be,headerProps:{backgroundSize:"50%"},onClose:()=>i(!1),action:h.createElement(w,{gap:2},h.createElement(w,{direction:"row",gap:2},h.createElement(x,{level:"secondary"},"取消"),h.createElement(x,null,"確認")),h.createElement(x,{level:"negative"},"HELP"))}))}};var tt,et,nt;T.parameters={...T.parameters,docs:{...(tt=T.parameters)==null?void 0:tt.docs,source:{originalSource:`{
  args: {},
  render: args => {
    const [open, setOpen] = React.useState(false);
    return <>
        <Button onClick={() => setOpen(true)}>Open Modal</Button>
        <Modal {...args} open={open} title="USPACE地鎖廠" subtitle="台北市松山區南京東路 100號" text="請確認是否已停放好車輛，按下停放完成後將無法再次降鎖"
      // imageUrl={image1}
      onClose={() => setOpen(false)} action={<Stack gap={2}>
              <Stack direction="row" gap={2}>
                <Button level="secondary">取消</Button>
                <Button>確認</Button>
              </Stack>
              <Button level="negative">HELP</Button>
            </Stack>} />
      </>;
  }
}`,...(nt=(et=T.parameters)==null?void 0:et.docs)==null?void 0:nt.source}}};var st,it,rt;U.parameters={...U.parameters,docs:{...(st=U.parameters)==null?void 0:st.docs,source:{originalSource:`{
  args: {},
  parameters: {
    docs: {
      description: {
        story: "含上方圖片（預設滿版）"
      }
    }
  },
  render: args => {
    const [open, setOpen] = React.useState(false);
    return <>
        <Button onClick={() => setOpen(true)}>Open Modal</Button>
        <Modal {...args} open={open} title="USPACE地鎖廠" subtitle="台北市松山區南京東路 100號" text="請確認是否已停放好車輛，按下停放完成後將無法再次降鎖" imageUrl={image1} onClose={() => setOpen(false)} action={<Stack gap={2}>
              <Stack direction="row" gap={2}>
                <Button level="secondary">取消</Button>
                <Button>確認</Button>
              </Stack>
              <Button level="negative">HELP</Button>
            </Stack>} />
      </>;
  }
}`,...(rt=(it=U.parameters)==null?void 0:it.docs)==null?void 0:rt.source}}};var ot,at,ct;D.parameters={...D.parameters,docs:{...(ot=D.parameters)==null?void 0:ot.docs,source:{originalSource:`{
  args: {},
  parameters: {
    docs: {
      description: {
        story: "含上方圖片（圖片若非滿版需自行調整 \`headerProps\` 的 \`backgroundSize\` 可參考MDN）"
      }
    }
  },
  render: args => {
    const [open, setOpen] = React.useState(false);
    return <>
        <Button onClick={() => setOpen(true)}>Open Modal</Button>
        <Modal {...args} open={open} title="USPACE地鎖廠" subtitle="台北市松山區南京東路 100號" text="請確認是否已停放好車輛，按下停放完成後將無法再次降鎖" imageUrl={image2} headerProps={{
        backgroundSize: "50%"
      }} onClose={() => setOpen(false)} action={<Stack gap={2}>
              <Stack direction="row" gap={2}>
                <Button level="secondary">取消</Button>
                <Button>確認</Button>
              </Stack>
              <Button level="negative">HELP</Button>
            </Stack>} />
      </>;
  }
}`,...(ct=(at=D.parameters)==null?void 0:at.docs)==null?void 0:ct.source}}};const nn=["Default","WithImage","WithSmallImage"];export{T as Default,U as WithImage,D as WithSmallImage,nn as __namedExportsOrder,en as default};

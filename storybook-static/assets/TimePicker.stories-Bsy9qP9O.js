import{r as g,R as a}from"./index-CZMpeKRu.js";import{S as p}from"./stack-BTMboc2O.js";import{B as n,T as f}from"./text-B579pxti.js";import"./jsx-runtime-CLpGMVip.js";import"./create-recipe-context-DWduORGS.js";import"./walk-object-BItxkN3D.js";const D=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],h=[0,5,10,15,20,25,30,35,40,45,50,55],d=({value:r=new Date,onChange:u,minuteStep:l=5,availableGroup:o})=>{const i=r.getHours(),c=r.getMinutes(),v=g.useMemo(()=>l?h.filter(e=>e%l===0):h,[l]),x=g.useMemo(()=>v.filter(e=>{const t=o==null?void 0:o.find(m=>m.hour===i);return t?t.minute.includes(e):!0}),[v,o,i]);a.useEffect(()=>{const e=setTimeout(()=>{const t=document.querySelector(`[data-hour="${i.toString().padStart(2,"0")}"]`);t&&t.scrollIntoView({behavior:"smooth",block:"center"});const m=document.querySelector(`[data-minute="${c.toString().padStart(2,"0")}"]`);m&&m.scrollIntoView({behavior:"smooth",block:"center"})},0);return()=>clearTimeout(e)},[i,c]);const E=e=>{const t=new Date(r);t.setHours(e),u(t)},k=e=>{const t=new Date(r);t.setMinutes(e),u(t)};return a.createElement(p,{direction:"row",gap:"2",h:"180px"},a.createElement(n,{w:"100%",maxW:"175px",h:"100%",gap:"2",overflow:"scroll"},a.createElement(n,{h:"calc((100% / 2) - 24px)"}),D.map(e=>a.createElement(p,{key:e,h:"40px",alignItems:"center",justifyContent:"center",bg:e===i?"materialBg":"transparent",borderRadius:"8px",onClick:()=>E(e),my:"1","data-hour":e.toString().padStart(2,"0")},a.createElement(f,null,e.toString().padStart(2,"0")))),a.createElement(n,{h:"calc((100% / 2) - 24px)"})),a.createElement(n,{w:"100%",maxW:"175px",h:"100%",gap:"2",overflow:"scroll"},a.createElement(n,{h:"calc((100% / 2) - 24px)"}),x.map(e=>a.createElement(p,{key:e,h:"40px",alignItems:"center",justifyContent:"center",bg:e===c?"materialBg":"transparent",borderRadius:"8px",onClick:()=>k(e),my:"1","data-minute":e.toString().padStart(2,"0")},a.createElement(f,null,e.toString().padStart(2,"0")))),a.createElement(n,{h:"calc((100% / 2) - 24px)"})))};d.__docgenInfo={description:"留意如果傳入的 value Date 的分鐘不是整數，不會顯示任何分鐘（即沒有預設選項）",methods:[],displayName:"TimePicker",props:{value:{required:!1,tsType:{name:"Date"},description:"",defaultValue:{value:"new Date()",computed:!1}},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(date: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"void"}}},description:""},minuteStep:{required:!1,tsType:{name:"union",raw:"5 | 10 | 15 | 30",elements:[{name:"literal",value:"5"},{name:"literal",value:"10"},{name:"literal",value:"15"},{name:"literal",value:"30"}]},description:"",defaultValue:{value:"5",computed:!1}},availableGroup:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  hour: Hour
  minute: Minute[]
}`,signature:{properties:[{key:"hour",value:{name:"union",raw:"0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23",elements:[{name:"literal",value:"0"},{name:"literal",value:"1"},{name:"literal",value:"2"},{name:"literal",value:"3"},{name:"literal",value:"4"},{name:"literal",value:"5"},{name:"literal",value:"6"},{name:"literal",value:"7"},{name:"literal",value:"8"},{name:"literal",value:"9"},{name:"literal",value:"10"},{name:"literal",value:"11"},{name:"literal",value:"12"},{name:"literal",value:"13"},{name:"literal",value:"14"},{name:"literal",value:"15"},{name:"literal",value:"16"},{name:"literal",value:"17"},{name:"literal",value:"18"},{name:"literal",value:"19"},{name:"literal",value:"20"},{name:"literal",value:"21"},{name:"literal",value:"22"},{name:"literal",value:"23"}],required:!0}},{key:"minute",value:{name:"Array",elements:[{name:"union",raw:"0 | 5 | 10 | 15 | 20 | 25 | 30 | 35 | 40 | 45 | 50 | 55",elements:[{name:"literal",value:"0"},{name:"literal",value:"5"},{name:"literal",value:"10"},{name:"literal",value:"15"},{name:"literal",value:"20"},{name:"literal",value:"25"},{name:"literal",value:"30"},{name:"literal",value:"35"},{name:"literal",value:"40"},{name:"literal",value:"45"},{name:"literal",value:"50"},{name:"literal",value:"55"}]}],raw:"Minute[]",required:!0}}]}}],raw:`Array<{
  hour: Hour
  minute: Minute[]
}>`},description:""}}};const H={title:"UPSACE/TimePicker",component:d,argTypes:{value:{control:!1,description:"選取的時間"},minuteStep:{control:"number",description:"分鐘間隔，5 | 10 | 15 | 30"},availableGroup:{control:"object",description:"可選擇的時間組合，若特定hour未傳入，則會顯示該小時所有分鐘"}}},s={args:{availableGroup:[{hour:14,minute:[0,5,45,55]}]},render:r=>{const[u,l]=a.useState(new Date);return a.createElement(d,{...r,value:u,onChange:l})}};var w,y,S;s.parameters={...s.parameters,docs:{...(w=s.parameters)==null?void 0:w.docs,source:{originalSource:`{
  args: {
    availableGroup: [{
      hour: 14,
      minute: [0, 5, 45, 55]
    }]
  },
  render: args => {
    const [value, setValue] = React.useState(new Date());
    return <TimePicker {...args} value={value} onChange={setValue} />;
  }
}`,...(S=(y=s.parameters)==null?void 0:y.docs)==null?void 0:S.source}}};const I=["Default"];export{s as Default,I as __namedExportsOrder,H as default};

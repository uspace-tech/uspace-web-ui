import{j as y}from"./jsx-runtime-CLpGMVip.js";import{r as a}from"./index-CZMpeKRu.js";import{i as x,a as b,b as w}from"./create-recipe-context-CV5lbZL3.js";const A=r=>r!=null;function I(r,t,e={}){const{stop:i,getKey:o}=e;function m(n,l=[]){if(x(n)||Array.isArray(n)){const c={};for(const[s,u]of Object.entries(n)){const f=(o==null?void 0:o(s,u))??s,d=[...l,f];if(i!=null&&i(n,d))return t(n,l);const p=m(u,d);A(p)&&(c[f]=p)}return c}return t(n,l)}return m(r)}function E(r,t){return Array.isArray(r)?r.map(e=>t(e)):x(r)?I(r,e=>t(e)):r!=null?t(r):r}function N(r){const{gap:t,direction:e}=r,i={column:{marginY:t,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},"column-reverse":{marginY:t,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},row:{marginX:t,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0},"row-reverse":{marginX:t,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0}};return{"&":E(e,o=>i[o])}}function O(r){return a.Children.toArray(r).filter(t=>a.isValidElement(t))}const j=a.forwardRef(function(t,e){const{direction:i="column",align:o,justify:m,gap:n="0.5rem",wrap:l,children:c,separator:s,className:u,...f}=t,d=a.useMemo(()=>N({gap:n,direction:i}),[n,i]),p=a.useMemo(()=>s?O(c).map((g,h,k)=>{const S=typeof g.key<"u"?g.key:h,W=a.cloneElement(s,{css:[d,s.props.css]});return y.jsxs(a.Fragment,{children:[g,h===k.length-1?null:W]},S)}):c,[c,s,d]);return y.jsx(b.div,{ref:e,display:"flex",alignItems:o,justifyContent:m,flexDirection:i,flexWrap:l,gap:s?void 0:n,className:w("chakra-stack",u),...f,children:p})});export{j as S,E as m,I as w};
